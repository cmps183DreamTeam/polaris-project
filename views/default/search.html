<html>
    <head>
        <title>Search</title>
        <link href = "{{=URL('static','css/global.css')}}" type ="text/css" rel="stylesheet">
        <script src="{{=URL('static', 'js/vue.js')}}"></script>
        <script>
            var posts_url = "{{=URL('default', 'get_posts')}}";
            var add_post_url = "{{=URL('default', 'add_post', user_signature=True)}}";
            var edit_post_url = "{{=URL('default', 'edit_post', user_signature=True)}}";
            var del_post_url = "{{=URL('default', 'del_post', user_signature=True)}}";
            var show_name = false;
        </script>
    </head>
    <body>
        <a class="back-button" href="{{=URL('default','index')}}">Back</a>

        <div id="input-form" class="form-modal">
            <form enctype="multipart/form-data" method="POST" action="{{= URL('default', 'search')}}">
                <div class="button" id="pick_by_name" style="color: grey;background-color: white;margin-bottom: 10px;border-color: white;">
                    Pick a target by name
                </div>
                <input style="display: none;" id="name" class="input" type="text" name="name" placeholder="Target Name: {{=reqs.name}}">
                <input class="input" type="text" name="ra" placeholder="RA: {{=reqs.ra}}">
                <input class="input" type="text" name="dec" placeholder="DEC: {{=reqs.dec}}">
                <input class="input" type="text" name="rad" placeholder="Radius: {{=reqs.rad}}"/>
                <input type="range" name="points" min="1" max="10" step="0.5"placeholder="Pick Radius θ">Pick Radius θ</form>
                <input class="input" type="text" name="wavelength" placeholder="Observed Wavelength λ"/>
                <select class="input" name="cat">
                    <option value="USNO-B1">USNO-B1</option>
                </select>
                <input class="button" type="submit" value="Submit">
            </form>
        </div>

        <div style="float: right;margin-right: 25%;margin-bottom: 10px;">
            Approx-ed Strehl Value: <div class="dynamic" id="strehl"></div>
        </div>
        <div id="results-table">
            <table class="table">
                <thead>
                    <tr>
                        <!--<td>Name</td>-->
                        <td>RA</td>
                        <td>DEC</td>
                        <td>Magnitude</td>
                        <td>Epoch Red Mag</td>
                    </tr>
                </thead>
                <tbody>
                    {{for entry in dict:}}
                        <tr>
                            <!--<td id="name">{{=reqs.name}}</td>-->
                            <td id="ra">{{=dict[entry]['RA']}}</td>
                            <td id="dec">{{=dict[entry]['DEC']}}</td>
                            <td id="magnitude">{{=dict[entry]['mag']}}</td>
                            <td id="magnitude_type">{{=dict[entry]['mag_type']}}</td>
                        </tr>
                    {{pass}}
                </tbody>
            </table>
        </div>

        <button style="background-color: white; border-color: lightgrey; border-width: inherit;"
                id="save_query_button" class="button" align="right"
                href="{{=URL('default','save_query', user_signature=True)}}">
            Save this query
        </button>
        <script src="{{=URL('static', 'js/jquery.js')}}">
            console.log("test");
            $(function() {
                $('#name').click(function() {
                    console.log("in function test");
                });
            });
            $(function() {
                console.log("document ready");
                $("#name").css("display", "none");
                $("#name").hide();
                $("#name").onclick(function() {
                    $("#name").toggle();
                });
            });
        </script>
    </body>
</html>